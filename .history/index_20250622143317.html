<!-- Always Visible: Generic Quick Converter -->
<div id="generic-calculator" class="p-4 bg-white shadow rounded mb-8">
  <h2 class="text-xl font-semibold mb-2">Quick Converter (No Login Required)</h2>
  <div class="flex space-x-2">
    <input id="generic-hgb" type="number" step="0.1" placeholder="Hemoglobin (g/dL)" class="border p-2 rounded flex-1" />
    <button onclick="genericPredict()" class="bg-blue-600 text-white px-4 py-2 rounded">Calculate</button>
  </div>
  <p id="generic-result" class="mt-2 text-gray-700"></p>
</div>

<!-- Authentication Section -->
<div id="auth-section" class="hidden p-4 bg-white shadow rounded mb-8">
  <h2 class="text-xl font-semibold mb-4">Login or Signup</h2>
  <input id="auth-email" type="email" placeholder="Email" class="border p-2 rounded w-full mb-2" />
  <input id="auth-password" type="password" placeholder="Password" class="border p-2 rounded w-full mb-4" />
  <div class="flex space-x-2">
    <button id="btn-login" class="bg-green-600 text-white px-4 py-2 rounded flex-1">Login</button>
    <button id="btn-signup" class="bg-yellow-600 text-white px-4 py-2 rounded flex-1">Sign Up</button>
  </div>
  <button id="btn-guest" class="mt-4 text-blue-600 underline">Continue as Guest</button>
</div>

<!-- Data Entry Section (Visible after login or guest) -->
<div id="data-section" class="hidden p-4 bg-white shadow rounded mb-8">
  <h2 class="text-xl font-semibold mb-2">Step 1: Enter Your Data (up to 5 rows)</h2>
  <table id="dataTable" class="w-full mb-4 table-auto border-collapse">
    <thead>
      <tr>
        <th class="border p-2">Hgb (g/dL)</th>
        <th class="border p-2">RBC (×10⁶/µL)</th>
        <th class="border p-2">Hct (%)</th>
        <th class="border p-2">MCV (fL)</th>
      </tr>
    </thead>
    <tbody id="data-tbody"></tbody>
  </table>
  <button id="btn-generate" class="bg-indigo-600 text-white px-4 py-2 rounded">Generate My Formula</button>
</div>

<!-- Formula Display Section -->
<div id="formula-section" class="hidden p-4 bg-white shadow rounded mb-8">
  <h2 class="text-xl font-semibold mb-2">Your Personalized Formula</h2>
  <p>RBC = <span id="coef-rbc-a"></span> × Hgb + <span id="coef-rbc-b"></span></p>
  <p>Hct = <span id="coef-hct-c"></span> × Hgb + <span id="coef-hct-d"></span></p>
  <button id="btn-save" class="mt-4 bg-green-600 text-white px-4 py-2 rounded">Save Formula</button>
</div>

<!-- Prediction Section -->
<div id="predict-section" class="hidden p-4 bg-white shadow rounded">
  <h2 class="text-xl font-semibold mb-2">Predict from Hemoglobin</h2>
  <input id="input-hgb" type="number" step="0.1" placeholder="Hemoglobin (g/dL)" class="border p-2 rounded w-full mb-2" />
  <button id="btn-predict" class="bg-blue-600 text-white px-4 py-2 rounded w-full">Predict</button>
  <p id="prediction-result" class="mt-3 text-gray-700 font-medium"></p>
</div>